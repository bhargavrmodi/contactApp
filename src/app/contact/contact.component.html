<section class="mainContainer">
    <div class="row">
        <div class="col-md-5 col-sm-5 col-xs-5">
            <h4 class="formTitle">Contact Management</h4>
            <form #contactForm="ngForm">
                <div class="row">
                    <div class="form-group col-md-6 col-sm-6 col-xs-6">
                        <label for="firstName">First Name</label>
                        <input pattern="[a-zA-Z][a-zA-Z ]+" type="text" class="form-control" id="firstName" required [(ngModel)]="model.firstName" name="firstName" #firstName="ngModel" />
                        <div [hidden]="firstName.valid || firstName.pristine" class="errorText">
                            <div [hidden]="!firstName.hasError('required')">First Name is required</div>
                            <div [hidden]="!firstName.hasError('pattern')">Only Alphabets allowed</div>
                        </div>
                    </div>
                    <div class="form-group col-md-6 col-sm-6 col-xs-6">
                        <label for="lastName">Last Name</label>
                        <input pattern="[a-zA-Z][a-zA-Z ]+" type="text" class="form-control" id="lastName" required [(ngModel)]="model.lastName" name="lastName" #lastName="ngModel" />
                        <div [hidden]="lastName.valid || lastName.pristine" class="errorText">
                            <div [hidden]="!lastName.hasError('required')">Last Name is required</div>
                            <div [hidden]="!lastName.hasError('pattern')">Only Alphabets allowed</div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6 col-sm-6 col-xs-6">
                        <label for="email">Email</label>
                        <input type="email" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" class="form-control" id="email" required [(ngModel)]="model.email" name="email" #email="ngModel" />
                        <div [hidden]="email.valid || email.pristine" class="errorText">
                            <div [hidden]="!email.hasError('required')">Email is required</div>
                            <div [hidden]="!email.hasError('pattern')">Email format should be <small><b>joe@abc.com</b></small></div>
                        </div>
                    </div>
                    <div class="form-group col-md-6 col-sm-6 col-xs-6">
                        <label for="phoneNumber">Phone Number</label>
                        <input type="text" minlength="15" maxlength="15" pattern="[0-9]*" class="form-control" id="phoneNumber" required [(ngModel)]="model.phoneNumber" name="phoneNumber" #phoneNumber="ngModel" />
                        <div [hidden]="phoneNumber.valid || phoneNumber.pristine" class="errorText">
                            <div [hidden]="!phoneNumber.hasError('minlength')">Phone Number should be 15 digit</div>
                            <div [hidden]="!phoneNumber.hasError('required')">Phone Number is required</div>
                            <div [hidden]="!phoneNumber.hasError('pattern')">Phone Number should be only numbers</div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6 col-sm-6 col-xs-6">
                        <label for="status">Status</label>
                        <select class="form-control" id="status" required [(ngModel)]="model.status" name="status" #status="ngModel">
                            <option>Active</option>
                            <option>Inactive</option>
                        </select>
                        <div [hidden]="status.valid || status.pristine" class="errorText">
                            <div [hidden]="!status.hasError('required')">Status is required</div>
                        </div>
                        <!--<input type="text" class="form-control" id="status" required [(ngModel)]="model.status" name="status" />-->
                    </div>
                </div>
                <button class="btn btn-primary" (click)="saveData(model); contactForm.reset()" [disabled]="!contactForm.form.valid">Save</button>
            </form>
        </div>
        <div class="col-md-7 col-sm-7 col-xs-7">
            <table class="table">
                <thead>
                    <tr>
                        <th>Action</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Email</th>
                        <th>Phone Number</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngIf="contactsArray.length < 1">
                        <td colspan="6" align="center">No data to display</td>
                    </tr>
                    <tr *ngFor="let contact of contactsArray; let i = index">
                        <td><button class="btn btn-danger btn-sm" (click)="removeContact(i)"><b>X</b></button> <button class="btn btn-primary btn-sm" (click)="editContact(i, contact)">Edit</button></td>
                        <td>{{contact.firstName}}</td>
                        <td>{{contact.lastName}}</td>
                        <td>{{contact.email}}</td>
                        <td>{{contact.phoneNumber}}</td>
                        <td>{{contact.status}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>
